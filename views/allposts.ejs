<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>notTwitter</title>
  <link rel="stylesheet" href="/allposts.css" />
</head>

<body class="dark">
  <header>
    <div class="nav-left">
      <h1>notTwitter</h1>
    </div>
    <div class="nav-right">
      <a href="/posts/new" class="new-post-btn">Post</a>
      <button id="mode-toggle" class="mode-toggle">â˜€ï¸</button>
    </div>
  </header>

  <main class="feed">
    <div class="post-card">
        <div class="post-header">
          <img src="https://media.licdn.com/dms/image/v2/D5603AQGBNkIbb4jQQA/profile-displayphoto-shrink_200_200/B56ZOlgT7WG8Ac-/0/1733648531997?e=2147483647&v=beta&t=oUU8_4n_GtRXhiYNMHz3eLQ0_XkK0STl_zNY3uQIhfE" alt="avatar" class="avatar" />
          <div class="post-info">
            <h3>@Yahiya</h3>
          </div>
        </div>
         <p class="post-content" style="margin-bottom: 20px;">
          Hi, It's Yahiya, the dev. Everyone watching this can write in and delete anything haha.<br> Until I get back with login features. Till then enjoy the time being here.
        </p>
    <% for (let post of posts) { %>
      <div class="post-card">
        <div class="post-header">
          <img src="https://api.dicebear.com/8.x/identicon/svg?seed=<%= post.username %>" alt="avatar" class="avatar" />
          <div class="post-info">
            <h3>@<%= post.username %>
            </h3>
          </div>
        </div>
        <p class="post-content">
          <%= post.content %>
        </p>
        <div class="post-actions">
          <a href="/posts/edit/<%= post.id %>" class="action-link">Edit</a>
          <a href="/posts/<%= post.id %>" class="action-link">View</a>
          <form method="POST" action="/posts/<%= post.id %>?_method=DELETE" class="post-form">
  <button>Delete</button>
</form>



        </div>
      </div>
      <% } %>
  </main>

  <footer>
    <p>Â© 2025 notTwitter â€” where ideas echo softly.</p>
  </footer>

  <script>
    const toggle = document.getElementById("mode-toggle");
    document.body.classList.add("dark");
    toggle.textContent = "â˜€ï¸";

    toggle.addEventListener("click", () => {
      document.body.classList.toggle("dark");
      toggle.textContent = document.body.classList.contains("dark") ? "â˜€ï¸" : "ğŸŒ™";
    });
  </script>
</body>

</html>